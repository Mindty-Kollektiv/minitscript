# initialize
on: initialize
end

function: testScript($scriptURIs)
	$scriptsArrayTestA = []
	$scriptsArrayTestB = []
	$scripts = []
	console.printLine("TESTING: " + $scriptURIs[0])
	console.printLine()
	for ($i = 0, $i < $scriptURIs->getSize(), $i++)
		console.printLine($i + ": " + $scriptURIs[$i])
		$scripts[] = {
			uri: $scriptURIs[$i],
			className: "_" + filesystem.removeFileExtension(filesystem.getFileName($scriptURIs[$i]))->regexReplace("[^0-9a-zA-Z]", "_")
		}
		$scriptsArrayTestA[] = $scriptURIs[$i]
		$scriptsArrayTestB[] = "_" + filesystem.removeFileExtension(filesystem.getFileName($scriptURIs[$i]))->regexReplace("[^0-9a-zA-Z]", "_")
	end
	console.printLine("scripts: " + $scripts)
	console.printLine("$scriptsArrayTestA: " + $scriptsArrayTestA)
	console.printLine("$scriptsArrayTestB: " + $scriptsArrayTestB)
end

# if no condition is met, nothing will be executed, lol :D
on: nothing
	testScript(["resources/miniscript/tests/class-test.tscript"])
	script.stop()
end

# an error has occurred
on: error
	script.stop()
end